.version 7.0
.target sm_80
.address_size 64

.visible .entry imm_test(
    .param .u64 out_ptr    // pointer passed from host
)
{
    .reg .u64 %rd1;       // 64-bit pointer register
    .reg .u32 %r1;        // 32-bit value register
    ld.param.u64 %rd1, [out_ptr];    // load kernel argument pointer
    mov.u32 %r1, 0xDEADBEEF;         // immediate encoded in instruction
    st.global.u32 [%rd1], %r1;       // store immediate to global memory
    ret;
}